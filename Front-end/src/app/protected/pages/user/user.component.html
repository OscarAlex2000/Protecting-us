<app-menu></app-menu>
<form class="login100-form" 
    autocomplete="off"
    [formGroup]="miFormulario"
    (ngSubmit)="updateUser()">
    <div class="container-fluid">
        <div class="row">
            <div class="col-12">
                <span class="login100-form-title p-b-45">Usuario</span>
            </div>
        </div>
        <div class="row mb-2 ml-2">
            <div class="col-md-11 col-sm-11 col-11 align-self-start">
                <div class="form-check form-switch">
                    <input type="checkbox" class="form-check-input" [checked]="usuario.root" [hidden]="!returnButton && !usuario.root" [disabled]="!returnButton && !usuario.root" (change)="changeRoot( $event )" style="width: 50px; height: 25px;">
                </div>
            </div>
            <div class="col-md-1 col-sm-1 col-1 align-self-end">
                <div class="form-check form-switch">
                    <input type="checkbox" class="form-check-input" [checked]="usuario.active" [hidden]="!returnButton && !usuario.root"  [disabled]="!returnButton || usuario._id == id" (change)="changeActive( $event )" style="width: 50px; height: 25px;">
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col">
                <div class="input-group wrap-input100 m-b-23 mb-3">
                    <span class="input-group-text" id="basic-addon1" style="background-color: #ff971f">Nombre</span>
                    <input class="form-control"
                        type="text" 
                        formControlName="name"
                        name="user.name"
                        placeholder="Nombre"
                        ngDefaultControl
                        [(ngModel)]="usuario.name"
                        aria-describedby="basic-addon1">
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col">
                <div class="input-group wrap-input100 m-b-23 mb-3">
                    <span class="input-group-text" id="basic-addon1" style="background-color: #ff971f">A. Paterno</span>
                    <input class="form-control"
                        type="text" 
                        formControlName="first_lastname"
                        placeholder="Primer apellido"
                        ngDefaultControl
                        [(ngModel)]="usuario.first_lastname"
                        aria-describedby="basic-addon1">
                </div>
            </div>
            <div class="col">
                <div class="input-group wrap-input100 m-b-23 mb-3">
                    <span class="input-group-text" id="basic-addon1" style="background-color: #ff971f">A. Materno</span>
                    <input class="form-control"
                        type="text" 
                        formControlName="second_lastname"
                        placeholder="Segundo apellido"
                        ngDefaultControl
                        [(ngModel)]="usuario.second_lastname"
                        aria-describedby="basic-addon1">
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col">
                <div class="input-group wrap-input100 m-b-23 mb-3">
                    <span class="input-group-text" id="basic-addon1" style="background-color: #ff971f">Correo</span>
                    <input class="form-control"
                        type="text" 
                        formControlName="email"
                        placeholder="Correo ElectrÃ³nico"
                        ngDefaultControl
                        [(ngModel)]="usuario.email"
                        aria-describedby="basic-addon1"
                        [readonly]="emailEdit" >
                </div>
            </div>
        </div>
        <div class="row mt-5">
            <div class="col">
                <button type="button" 
                        class="btn btn-secondary" 
                        *ngIf="returnButton"
                        (click)="returnUsers()">Regresar</button>
            </div>
            <div class="col" align="right">
                <button class="btn btn-primary btn-bottom-right" 
                        type="button"
                        type="submit" >Guardar</button>
                    <!-- [disabled]="miFormulario.invalid" -->
            </div>
        </div>
    </div>
</form>

<!-- {{ usuario | json }} -->
<!-- {{ user_now | json }} -->