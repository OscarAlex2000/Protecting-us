{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, EventEmitter, Input, Output } from '@angular/core';\nimport Swal from 'sweetalert2';\nlet UsersComponent = class UsersComponent {\n  get usuario() {\n    return this.authService.usuario;\n  }\n  get usuarios() {\n    return this.dashService.usuarios;\n  }\n  get totalUsuarios() {\n    return this.dashService.totalUsuarios;\n  }\n  constructor(router, dashService, authService) {\n    this.router = router;\n    this.dashService = dashService;\n    this.authService = authService;\n    this.getInfo = false;\n    this.search = '';\n    this.update = new EventEmitter();\n  }\n  ngOnInit() {\n    this.getUsers('');\n  }\n  getUsers(search = '') {\n    search.target === undefined || search.target === null ? search = '' : search = search.target.value;\n    this.dashService.getUsers(search).subscribe(resp => {\n      if (resp === true) {\n        this.getInfo = true;\n      } else {\n        Swal.fire('ERROR', 'Error al obtener los usuarios', 'error');\n      }\n    });\n  }\n  deleteUser(id) {\n    if (id === this.usuario._id) {\n      Swal.fire('ERROR', 'No se puede eliminar un usuario activo', 'error');\n    } else {\n      Swal.fire({\n        title: '¿Estas seguro?',\n        text: \"¡No se podrá revertir el proceso!\",\n        icon: 'warning',\n        showCancelButton: true,\n        confirmButtonColor: '#d33',\n        cancelButtonColor: '#7D7F7D',\n        confirmButtonText: 'Eliminar',\n        cancelButtonText: 'Cancelar'\n      }).then(result => {\n        if (result.isConfirmed) {\n          this.dashService.deleteUser(id).subscribe(resp => {\n            if (resp === true) {\n              Swal.fire({\n                position: 'center',\n                icon: 'success',\n                title: 'Usuario Eliminado',\n                showConfirmButton: false,\n                timer: 1500\n              });\n              this.getUsers();\n            } else {\n              Swal.fire('ERROR', 'No se pudo eliminar usuario', 'error');\n            }\n          });\n        }\n      });\n    }\n  }\n};\n__decorate([Input()], UsersComponent.prototype, \"search\", void 0);\n__decorate([Output('ngModelChange')], UsersComponent.prototype, \"update\", void 0);\nUsersComponent = __decorate([Component({\n  selector: 'app-users',\n  templateUrl: './users.component.html',\n  styles: []\n})], UsersComponent);\nexport { UsersComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}